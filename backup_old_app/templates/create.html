{% extends 'base.html' %}

{% block content %}
<h2 class="mb-4">Create a New Document</h2>
<form method="POST">
  <div class="mb-3">
    <label for="title" class="form-label">Title</label>
    <input type="text" name="title" class="form-control" required>
  </div>
  <div class="mb-3">
    <label for="type" class="form-label">Document Type</label>
    <select name="type" class="form-select">
      <option value="Waiver">Waiver</option>
      <option value="Contract">Contract</option>
      <option value="Policy">Policy</option>
    </select>
  </div>
  <div class="mb-3">
    <label for="body" class="form-label">Body</label>
    <div id="editor" style="height: 300px;"></div>
    <textarea name="body" style="display:none;"></textarea>
  </div>
  <button type="submit" class="btn btn-primary">Save Document</button>
</form>

<!-- Quill JS (Rich Text Editor) -->
<link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
<script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>
<script>
  var quill = new Quill('#editor', { theme: 'snow' });
  document.querySelector('form').onsubmit = function () {
    document.querySelector('textarea[name=body]').value = quill.root.innerHTML;
  };
</script>
{% endblock %}
