
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Create Document - Onfile</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
</head>
<body class="bg-gray-50 min-h-screen p-6">
  <div class="max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-lg">
    <h2 class="text-2xl font-semibold text-indigo-700 mb-6">Create a New Document</h2>
    <form method="POST">
      <input type="text" name="title" placeholder="Document Title" required class="w-full mb-4 px-4 py-3 border rounded-lg">

      <div class="mb-4">
        <label class="block font-medium mb-2">Document Type</label>
        <select name="doc_type" class="w-full px-4 py-2 border rounded-lg">
          <option value="Waiver">Waiver</option>
          <option value="Contract">Contract</option>
          <option value="Policy">Policy</option>
          <option value="Terms & Conditions">Terms & Conditions</option>
          {% for ctype in custom_types %}
              <option value="{{ ctype.name }}">{{ ctype.name }}</option>
          {% endfor %}
        </select>
      </div>

      <div class="flex items-center space-x-4 mb-4">
        <label><input type="checkbox" name="requires_signature" class="mr-2">Requires Signature</label>
        <label><input type="checkbox" name="view_only" class="mr-2">View Only</label>
      </div>

      <input type="hidden" name="content" id="content">
      <div id="editor" class="h-40 bg-white border rounded-lg mb-4"></div>

      <button type="submit" onclick="syncContent()" class="bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition font-semibold">Create Document</button>
    </form>
  </div>

  <script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>
  <script>
    var quill = new Quill('#editor', { theme: 'snow' });
    function syncContent() {
        document.getElementById('content').value = quill.root.innerHTML;
    }
  </script>
</body>
</html>
